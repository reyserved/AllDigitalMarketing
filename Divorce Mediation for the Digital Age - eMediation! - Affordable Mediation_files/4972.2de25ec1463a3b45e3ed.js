!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="687a8bf9-eb64-40ad-aed3-dd8ef83b184a",e._sentryDebugIdIdentifier="sentry-dbid-687a8bf9-eb64-40ad-aed3-dd8ef83b184a")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"e0bf813f6e59611ec628726eb5f2a5bfd50d17e5"},(self.webpackChunkboost_client=self.webpackChunkboost_client||[]).push([[4972],{8251:function(e,n,t){t.d(n,{j:function(){return D},l:function(){return I}});var r=t(64467),i=t(80045),o=t(56386),u=t(730),l=t(87581),a=function(e){var n,t,r;return"general_field"===(null==e||null===(n=e.settings)||void 0===n?void 0:n.type)?null==e||null===(t=e.options)||void 0===t?void 0:t.label:null==e||null===(r=e.settings)||void 0===r?void 0:r.name},c=function(e){return"string"==typeof e?null!=e&&""!==e.trim():Array.isArray(e)?null!=e&&e.length>0:null!=e},s=t(14950),d=["field","value"],f=["field","value"],v=["field","value"],p=["field","value"],y=["field","value"];function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach(function(n){(0,r.A)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function m(e){var n,t;return!(null==e||null===(n=e.options)||void 0===n||!n.required)||!(null==e||null===(t=e.settings)||void 0===t||!t.required)}function h(e){var n,t;return!(null==e||null===(n=e.options)||void 0===n||!n.requiredTrue)||!(null==e||null===(t=e.settings)||void 0===t||!t.requiredTrue)}function O(e){var n=e.field,t=e.value,r="".concat(a(n)," is required");if(m(n)&&!c(t))return r}function w(e){var n=e.field,t=e.value;return(0,u.IT)(t,m(n))}function A(e){var n=e.field,t=e.value;return(0,u.au)(t,m(n))}function j(e){var n=e.field,t=e.value,r=(0,i.A)(e,d);return"phone"===(null==n?void 0:n.simplified_id)?w(g({field:n,value:t},r)):"email"===(null==n?void 0:n.simplified_id)?A(g({field:n,value:t},r)):O(g({field:n,value:t},r))}function S(e){var n=e.field,t=e.value,r=(0,i.A)(e,f);return t&&"string"!=typeof t&&!t._isValid?"Date is invalid":O(g({field:n,value:t},r))}function _(e){var n=e.field,t=e.value,r=(0,i.A)(e,y);return t>Number.MAX_SAFE_INTEGER?"Value is too high":t<Number.MIN_SAFE_INTEGER?"Value is too low":O(g({field:n,value:t},r))}var P={string:j,text:j,company_name:j,note:j,time:j,boolean:function(e){var n=e.field,t=e.value;return(0,o.Dx)(n)&&(h(n)||m(n))&&!t?"Field ".concat(a(n)," is required to be true"):!h(n)||t&&"false"!==t?m(n)&&!c(t)?"Field ".concat(a(n)," is required"):void 0:"Field ".concat(a(n)," is required to be true")},date:S,datetime:S,lookup:O,list:O,multi_picklist:O,currency:function(e){var n=e.field,t=e.value,r=(0,i.A)(e,p);return m(n)&&0===t?"".concat(a(n)," is required"):_(g({field:n,value:t},r))},company_email:A,company_phone:w,company_address:function(e){var n=e.field,t=e.value;if(m(n)){var i="This field is required";if(!c(t))return{street:i,city:i,state:i,country:i,zipcode:i};var o=["street","city","state","country","zipcode"].map(function(e){return{key:e,isValid:c(t[e])}});return o.some(function(e){return!e.isValid})?o.reduce(function(e,n){return n.isValid?e:g(g({},e),{},(0,r.A)({},n.key,i))},{}):void 0}},signature_field:function(e){var n=e.field,t=e.value,r=(0,i.A)(e,v);return t&&!t.dataUrl?"Signature is invalid":O(g({field:n,value:t},r))},contact:function(e){var n=e.field,t=e.value;if(t||m(n)){var r={};return t&&null!=t&&t.first_name||!m(n)||(r.first_name="".concat(a(n),"'s first name is required")),null!=t&&t.email&&(r.email=(0,u.au)(t.email,!1)),null!=t&&t.phone&&(r.phone=(0,u.IT)(t.phone,!1)),Object.keys(r).filter(function(e){return!!r[e]}).length>0?r:void 0}},appointment:function(e){var n,t,r,i=e.value;if(null!=i&&i.showAppointment){var o="This field is required",u={};if(i.name||(u.name=o),i.isZoomUsMeeting||i.locationId||(u.locationId=o),i.users&&0!==(null===(n=i.users)||void 0===n?void 0:n.length)||(u.users=o),i.startDate&&null!==(t=i.startDate)&&void 0!==t&&t._isValid||(u.startDate=o),i.endDate&&null!==(r=i.endDate)&&void 0!==r&&r._isValid||(u.endDate=o),i.additionalAttendees){var a=(0,l.b)(i.additionalAttendees);a&&(u.additionalAttendees=a)}return Object.keys(u).length>0?u:void 0}},event_registration:function(e){var n=e.field,t=e.value,r=e.fieldState;if(null==r||!r.skipPresenceValidation)return O({field:n,value:t,fieldState:r})},booking_request:function(e){var n=e.field,t=e.value,r={};if(null!=t&&t.startDate||null!=t&&t.endDate||!m(n)||(r.startDate="Please choose a time"),null!=t&&t.additionalAttendees){var i=(0,l.b)(null==t?void 0:t.additionalAttendees);i&&(r.additionalAttendees=i)}return null!=t&&t.locationId||!m(n)||(r.locationId="".concat(a(n)," is required")),Object.keys(r).length>0?r:void 0},file_upload:O,integer:_,tags:O,lmpay_gateway:function(e){var n=e.value;if(!("string"==typeof n||null!=n&&n.isValid))return Sentry.captureMessage("Payment Gateway Data Error",{level:"info",extra:{value:n}}),"Please check your payment data"}};function D(e){var n=e.field,t=e.value,r=e.fieldState;if(n){var i=(0,s.Re)(n);return(P[i]||j)({field:n,value:t,fieldState:r})}}var k=function(e,n,t,r){if(e||n)return D({field:r.field,value:t,fieldState:r})};function I(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={};return Object.keys(n).forEach(function(i){var o=n[i];if(null!=o&&o.field){var u=o.isDirty,l=k(u,t,e[i],o);r[i]=g(g({},o),{},{isDirty:u||t,isValid:!l,error:l})}else r[i]=o}),r}},10320:function(e,n,t){t.d(n,{hd:function(){return p},xI:function(){return v}});var r=t(64467),i=t(60436),o=t(50794);function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach(function(n){(0,r.A)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var a=["contains","contains_one","does_not_contain","does_not_contain_one","has_any_value","has_no_value"],c=function(e,n){var t,r,o;return[].concat((0,i.A)(null!==(t=e.options)&&void 0!==t&&t.conditionalLogic?[e.options]:[]),(0,i.A)(null!==(r=e.blockOptions)&&void 0!==r&&r.conditionalLogic?[e.blockOptions]:[]),(0,i.A)(null!=n&&null!==(o=n.options)&&void 0!==o&&o.conditionalLogic&&!n.settings.relationship_type_id?[n.options]:[]))},s=function(e){return null!=e&&""!==e&&(!Array.isArray(e)||e.length>0)},d=function(e,n,t,r){if(!e.conditionalLogic||!e.conditions||0===e.conditions.length)return!0;var i="AND"===e.operator?"every":"some";return e.conditions[i](function(e){var i,o,u,l=e.field,a=e.condition,c=e.value,s=r&&t["".concat(r,".").concat(l)]?"".concat(r,".").concat(l):l;if(!1===(null===(i=t[s])||void 0===i?void 0:i.isShown))return!1;var d,v=r?"".concat(r,".").concat(l):l,p=n[v],y=t[l],b=null==y||null===(o=y.field)||void 0===o?void 0:o.settings,g=null==y||null===(u=y.field)||void 0===u?void 0:u.options,m=c;if("state"===(null==b?void 0:b.field_name)&&(m=null==c?void 0:c.split("|")[2],p=null===(d=p)||void 0===d?void 0:d.value),function(e,n){var t="boolean"===(null==e?void 0:e.field_type)||"boolean"===(null==n?void 0:n.field_type),r=(null==e?void 0:e.required)||(null==n?void 0:n.required)||(null==n?void 0:n.requiredTrue);return t&&!r}(b,g)&&"boolean"==typeof m){var h=function(e,n,t){return null!=t?null:"equal_to"===e?!1===n:"different_to"===e?!0===n:null}(a,m,p);if(null!==h)return h}try{return f(a,m,p)}catch(e){var O;throw null===(O=Sentry)||void 0===O||O.captureMessage("Failed to process conditionals",{level:"error",extra:{field:l,condition:a,expectedValue:c,actualValue:p}}),e}})},f=function(e,n,t){return!e||("has_no_value"===e?!s(t):a.includes(e)||Array.isArray(n)?function(e,n,t){var r=Array.isArray(t)?t:[],i=Array.isArray(n)?n:[n],o=null!=t;switch(e){case"contains":return o&&i.every(function(e){return r.includes(e)});case"contains_one":return o&&i.some(function(e){return r.includes(e)});case"one_of":return i.some(function(e){return(null==t?void 0:t.toString())===e.toString()});case"equal_to":return o&&r.length===i.length&&r.every(function(e){return i.includes(e)});case"does_not_contain":return!o||!i.every(function(e){return r.includes(e)});case"does_not_contain_one":return!o||!i.some(function(e){return r.includes(e)});case"not_one_of":return!o||!i.some(function(e){return(null==t?void 0:t.toString())===e.toString()});case"has_any_value":return r.length>0;case"has_no_value":return!o||0===r.length;default:return!1}}(e,n,t):"boolean"==typeof n?function(e,n,t){var r=null==t;return"different_to"===e?r||t!==n:!r&&t===n}(e,n,t):"different_to"===e?(null==t?void 0:t.toString())!==(null==n?void 0:n.toString()):s(t)&&s(n)&&(null==t?void 0:t.toString())===(null==n?void 0:n.toString()))};function v(e,n,t,r,i){var o=c(e,r);return 0===o.length||o.every(function(e){return d(e,n,t,i)})}function p(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=l({},e),i=l({},n);return Object.keys(n).forEach(function(e){var u,a=n[e],c=a.field,s=a.blockId,d=a.isShown;if(c){var f=s?null===(u=n[s])||void 0===u?void 0:u.field:void 0,p=f?e.split(".")[0]:void 0,y=v(c,r,i,f,p);y&&d===y||(r[e]=(0,o.r)(c,t,y)),i[e]=l(l({},i[e]),{},{isShown:y})}else i[e]=n[e]}),[r,i]}},14950:function(e,n,t){t.d(n,{Re:function(){return r},fB:function(){return u},lu:function(){return i},rj:function(){return o}});var r=function(e){var n,t,r,i,o,u;if(e)return"general_field"===(null===(n=e.settings)||void 0===n?void 0:n.type)?(null===(t=e.options)||void 0===t?void 0:t.field_type)||(null===(r=e.settings)||void 0===r?void 0:r.field_type):(null===(i=e.settings)||void 0===i?void 0:i.type)||(null===(o=e.options)||void 0===o?void 0:o.field_type)||(null===(u=e.settings)||void 0===u?void 0:u.field_type)},i=function(e){var n,t;return(null==e||null===(n=e.options)||void 0===n?void 0:n.label)||(null==e||null===(t=e.settings)||void 0===t?void 0:t.name)},o=function(e){var n,t,r,i,o=null!==(n=null==e||null===(t=e.options)||void 0===t?void 0:t.boolean_display_type)&&void 0!==n?n:null==e||null===(r=e.settings)||void 0===r?void 0:r.boolean_display_type;return"switch"===o&&null!=e&&null!==(i=e.options)&&void 0!==i&&i.required?"nullToggle":o},u=function(e){return"RmllbGRzOjpTdGFuZGFyZEZpZWxkLUNvbnRhY3QtcGhvbmU="===e}},18207:function(e,n,t){t.d(n,{$c:function(){return y},hB:function(){return b}});var r=t(5544),i=t(60436),o=t(64467),u=t(96540),l=t(2543),a=t(56386),c=t(57704),s=t(50794),d=t(10320),f=t(8251);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach(function(n){(0,o.A)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var y=(0,u.createContext)({}),b=function(e,n,t){return e.settings.body.rows.flatMap(function(e){return e.components}).reduce(function(r,i){return p(p({},r),{},(0,o.A)({},"".concat(n,".").concat(i.id),{field:i,isShown:(0,d.xI)(i,t,r,e,n),isValid:!0,isDirty:!1,blockId:e.id}))},{})};n.Ay=function(e){var n,t=e.sharedCustomForm,v=e.isEmbedded,g=void 0!==v&&v,m=e.serverErrors,h=e.onPartialSubmit,O=e.onSubmit,w=e.children,A=e.signaturePacket,j=(0,u.useMemo)(function(){return(0,s._)(t.previewBody)},[t.previewBody]),S=(0,u.useMemo)(function(){return function(e,n){return e.previewBody.rows.flatMap(function(e){return e.components}).reduce(function(t,r){var u=p(p({},t),{},(0,o.A)({},r.id,p({field:r,isShown:(0,d.xI)(r,n,t),isValid:!0,isDirty:!1},function(e,n){if((0,a.aw)(e)){var t=e.options,r=t.eventTypeIds,o=t.userIds,u=t.locationIds;return{selectedEventTypeId:1===r.length?r[0]:void 0,selectedTimezone:null==n?void 0:n.timezone,selectedLocationId:u&&1===u.length?u[0]:void 0,selectedHostIds:o}}if((0,a.eT)(e)){var l,s,d,f,v=(null===(l=e.instances)||void 0===l?void 0:l.length)||1,p=(null===(s=e.options)||void 0===s?void 0:s.instanceName)||(null===(d=e.options)||void 0===d?void 0:d.label)||(null===(f=e.settings)||void 0===f?void 0:f.name);return{instances:(0,i.A)(Array(v).keys()).map(function(n){return{id:(0,c.Mw)(e.settings.id,n+1),title:"".concat(p).concat(v>1?"(".concat(n+1,")"):"")}})}}return{}}(r,e.firm))));return(0,a.eT)(r)&&(u=p(p({},u),function(e,n){var t,r=(null===(t=e.instances)||void 0===t?void 0:t.length)||1;return(0,i.A)(Array(r).keys()).reduce(function(t,r){var i=(0,c.Mw)(e.settings.id,r+1);return p(p({},t),b(e,i,n))},{})}(r,n))),u},{})}(t,j)},[t,j]),_=(0,u.useState)(function(){return{values:j,fieldStateMap:S}}),P=(0,r.A)(_,2),D=P[0],k=P[1],I=(0,u.useState)(!1),E=(0,r.A)(I,2),C=E[0],M=E[1],V=(0,u.useRef)(new Map),q=(0,u.useRef)(h);(0,u.useEffect)(function(){q.current=h},[h]);var F=(0,u.useMemo)(function(){return(0,l.debounce)(function(){if(V.current.size>0){var e,n=Array.from(V.current.values());V.current.clear(),null===(e=q.current)||void 0===e||e.call(q,n)}},2e4)},[]);(0,u.useEffect)(function(){return function(){F.flush()}},[F]);var T=(0,u.useCallback)(function(e){V.current.set(e.id,e),F()},[F]),x=(0,u.useCallback)(function(e){k(function(n){var i,o="function"==typeof e?e(n.values):p(p({},n.values),e),u=(0,f.l)(o,n.fieldStateMap),l=(0,d.hd)(o,u,null===(i=t.previewBody)||void 0===i?void 0:i.relationships),a=(0,r.A)(l,2);return{values:a[0],fieldStateMap:a[1]}})},[null===(n=t.previewBody)||void 0===n?void 0:n.relationships]),B=(0,u.useCallback)(function(e){k(function(n){var t="function"==typeof e?e(n.fieldStateMap):p(p({},n.fieldStateMap),e);return p(p({},n),{},{fieldStateMap:t})})},[]);(0,u.useEffect)(function(){x((0,s._)(t.previewBody))},[t.previewBody]),(0,u.useEffect)(function(){m&&B(function(e){return Object.entries(e).reduce(function(e,n){var t=(0,r.A)(n,2),i=t[0],u=t[1],l=m[i];if(!l)return p(p({},e),{},(0,o.A)({},i,u));var a=l.join(", ");return p(p({},e),{},(0,o.A)({},i,p(p({},u),{},{isValid:!a,error:a})))},{})})},[m]);var N=(0,u.useMemo)(function(){return{sharedCustomForm:t,isEmbedded:g,values:D.values,setValues:x,setFormState:k,fieldStateMap:D.fieldStateMap,setFieldStateMap:B,submitDisabled:C,setSubmitDisabled:M,onSubmit:O,onPartialSubmit:h,queuePartialSubmit:T,signaturePacket:A}},[t,g,x,B,C,O,h,T,D.values,D.fieldStateMap,A]);return u.createElement(y.Provider,{value:N},w)}},19193:function(e,n,t){t.d(n,{Ay:function(){return A},UV:function(){return h},lz:function(){return y}});var r=t(87695),i=t(5544),o=t(64467),u=t(60436),l=t(96540),a=t(56386),c=t(18207),s=t(59193),d=t(8251);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach(function(n){(0,o.A)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var p=function(e){return e.components.map(function(e){return e.id}).join("-")},y=function(e,n){if((0,a.eT)(e.components[0])){var t=Object.keys(n).filter(function(t){return n[t].blockId===e.components[0].id});return[e.components[0].id].concat((0,u.A)(t))}return e.components.map(function(e){return e.id})},b=function(e,n,t){return e.isDirty||n.some(function(e){var n;return null===(n=t[e])||void 0===n?void 0:n.isDirty})},g=function(e,n){return e.every(function(e){var t=n[e];if(null!=t&&t.blockId){var r=n[t.blockId];return t.isValid||!r.isShown||!t.isShown}return t.isValid||!t.isShown})},m=function(e,n){return 0===e.length||e.some(function(e){var t;return null===(t=n[e])||void 0===t?void 0:t.isShown})},h=function(e,n){var t;return null==e||null===(t=e.reduce(function(e,t){var r=e.res,i=e.hasGateway;if(1===t.components.length&&(0,a.WB)(t)){var o=n[t.components[0].id].isShown;return o?{hasGateway:!0,res:i?r:[].concat((0,u.A)(r),[t])}:{hasGateway:i,res:i||!o?r:[].concat((0,u.A)(r),[t])}}return{hasGateway:i,res:[].concat((0,u.A)(r),[t])}},{res:[],hasGateway:!1}))||void 0===t?void 0:t.res},O=function(e,n){var t=e.previewBody;return(0,a.Qy)(t.rows[0].components[0])?t.rows.reduce(function(e,t){if((0,a.Qy)(t.components[0])){var o,l=(0,i.A)(t.components,1)[0];return e.concat({id:l.id,name:(null===(o=l.options)||void 0===o?void 0:o.label)||l.settings.name,rows:[],fieldIds:[],isValid:!0,isDirty:!1,isShown:!0})}var c=e.reverse(),s=(0,r.A)(c),d=s[0],f=function(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}(s).slice(1);return[].concat((0,u.A)(f.reverse()),[v(v({},d),{},{rows:[].concat((0,u.A)(d.rows),[v(v({},t),{},{id:p(t)})]),fieldIds:[].concat((0,u.A)(d.fieldIds),(0,u.A)(y(t,n)))})])},[]).filter(function(e){return e.rows.length>0}).map(function(e){return v(v({},e),{},{isShown:m(e.fieldIds,n)})}):[{id:e.id,name:"",rows:t.rows.map(function(e,n){return v(v({},e),{},{id:n.toString()})}),fieldIds:[],isValid:!0,isDirty:!1,isShown:!0}]},w=function(e,n,t){return Object.keys(n).reduce(function(r,i){if(!e.fieldIds.some(function(e){return e===i}))return v(v({},r),{},(0,o.A)({},i,n[i]));var u=(0,d.j)({field:n[i].field,value:t[i],fieldState:n[i]});return v(v({},r),{},(0,o.A)({},i,v(v({},n[i]),{},{isDirty:!0,isValid:!u,error:u})))},{})};function A(e){var n=e.onPageChange,t=(0,l.useContext)(c.$c),r=t.sharedCustomForm,o=t.values,a=t.fieldStateMap,d=t.setFieldStateMap,f=t.setFormState,p=(0,l.useState)(O(r,a)),h=(0,i.A)(p,2),A=h[0],j=h[1],S=(0,l.useState)(0),_=(0,i.A)(S,2),P=_[0],D=_[1],k=A.filter(function(e){return e.isShown});(0,l.useEffect)(function(){j(function(e){return e.map(function(e){var n=e.rows.reduce(function(e,n){var t=y(n,a);return[].concat((0,u.A)(e),(0,u.A)(t))},[]);return v(v({},e),{},{fieldIds:n,isDirty:b(e,n,a),isValid:g(n,a),isShown:m(n,a)})})})},[a]);var I=1===k.length,E=0===P,C=P===k.length-1,M=function(e){var n=k[P];d(function(t){return w(n,t,e)})};return{pages:k,currentPage:k[P],isPageActive:function(e){return P===e},isSinglePage:I,isOnFirstPage:E,isOnLastPage:C,onNextPage:function(e){return function(){if(!C){var t=(0,s.l)(null==e?void 0:e.current,o);f(function(e){return v(v({},e),{},{values:t})}),M(t),D(function(e){return e+1}),null==n||n()}}},onPreviousPage:function(e){return function(){if(!E){var t=(0,s.l)(null==e?void 0:e.current,o);f(function(e){return v(v({},e),{},{values:t})}),M(t),D(function(e){return e-1}),null==n||n()}}},onGoToPage:function(e,t){var r=(0,s.l)(null==t?void 0:t.current,o);f(function(e){return v(v({},e),{},{values:r})}),M(r),D(e),null==n||n()}}}},44972:function(e,n,t){t.d(n,{Em:function(){return y.Ay},GM:function(){return h},K4:function(){return S},Wd:function(){return A},Yy:function(){return _},d$:function(){return j},eh:function(){return b.A},fh:function(){return w},lN:function(){return O}});var r=t(60436),i=t(64467),o=t(10467),u=t(54756),l=t.n(u),a=t(96540),c=t(56386),s=t(52697),d=t(57704),f=t(8251),v=t(14950),p=t(18207),y=t(19193),b=t(59193);function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach(function(n){(0,i.A)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function h(){return(0,a.useContext)(p.$c).sharedCustomForm}function O(){return(0,a.useContext)(p.$c)}function w(){var e=(0,a.useContext)(p.$c).setSubmitDisabled,n=function(){var n=(0,o.A)(l().mark(function n(t){var r;return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e(!0),n.next=1,Promise.all(t.map(function(){return(0,s.NP)()}));case 1:return r=n.sent,n.next=2,(0,s.Zn)(t,r);case 2:return e(!1),n.abrupt("return",r);case 3:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}();return n}function A(e){var n,t,r,o,u,l=(0,a.useContext)(p.$c),c=l.sharedCustomForm,s=l.values,d=l.setValues,y=l.fieldStateMap,b=l.setFieldStateMap,g=l.queuePartialSubmit,h=null==c?void 0:c.cacheStatus,O=y[e],w=s[e],A=(t=(0,v.Re)(null==O?void 0:O.field),r=null==O||null===(n=O.field)||void 0===n||null===(n=n.settings)||void 0===n?void 0:n.field_name,o=["date","datetime","boolean","lookup","list","multi_picklist","appointment","signature_field","company_address","contact","booking_request"].includes(t),u=["state","country"].includes(r),o||u),j=(0,a.useRef)({cacheStatus:h,partiallySubmitOnChange:A,value:w,fieldState:O});j.current={cacheStatus:h,partiallySubmitOnChange:A,value:w,fieldState:O};var S=(0,a.useCallback)(function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"no_cache"!==j.current.cacheStatus&&j.current.partiallySubmitOnChange&&!t&&(null==g||g({id:e,value:n})),d(function(t){return m(m({},t),{},(0,i.A)({},e,n))}),j.current.partiallySubmitOnChange&&b(function(t){var r;if(!t[e])return t;if(null!==(r=t[e])&&void 0!==r&&r.isDirty)return t;var o=(0,f.j)({field:t[e].field,value:n,fieldState:t[e]});return m(m({},t),{},(0,i.A)({},e,m(m({},t[e]),{},{error:o,isValid:!o,isDirty:!0})))})},[e,d,b,g]),_=(0,a.useCallback)(function(n,t){var r=function(e,n){var t;return void 0!==n?n:void 0!==(null==e||null===(t=e.target)||void 0===t?void 0:t.value)?e.target.value:null}(n,t),o=void 0!==r&&!j.current.partiallySubmitOnChange;o&&d(function(n){return m(m({},n),{},(0,i.A)({},e,r))});var u=o?r:j.current.value;"no_cache"===j.current.cacheStatus||j.current.partiallySubmitOnChange||null==g||g({id:e,value:u}),b(function(n){var t;if(!n[e])return n;if(null!==(t=n[e])&&void 0!==t&&t.isDirty)return n;var r=(0,f.j)({field:n[e].field,value:u,fieldState:n[e]});return m(m({},n),{},(0,i.A)({},e,m(m({},n[e]),{},{error:r,isValid:!r,isDirty:!0})))})},[e,d,b,g]),P=(0,a.useCallback)(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};b(function(t){return m(m({},t),{},(0,i.A)({},e,m(m({},t[e]),n)))})},[e,b]);return{onChange:S,onBlur:_,onAutofill:(0,a.useCallback)(function(n){d(function(t){return m(m({},t),{},(0,i.A)({},e,n))}),b(function(t){var r=(0,f.j)({field:t[e].field,value:n,fieldState:t[e]});return m(m({},t),{},(0,i.A)({},e,m(m({},t[e]),{},{error:r,isValid:!r,isDirty:!0})))})},[e,d,b]),setFieldState:P,fieldState:O,value:w}}function j(e){var n=A(e),t=n.fieldState,o=t.instances,u=t.field,l=n.setFieldState,c=(0,a.useContext)(p.$c),s=c.values,f=c.setFieldStateMap,v=c.setValues,y=c.sharedCustomForm,b=c.queuePartialSubmit,g=null==y?void 0:y.contactable;return{instances:o,onAddInstance:function(){var e=(0,d.Mw)(u.settings.id,o.length+1);l({instances:[].concat((0,r.A)(o),[{id:e}])});var n=(0,p.hB)(u,e,s);f(function(e){return m(m({},e),n)}),null==b||b({id:Object.keys(n)[0],value:""})},onRemoveInstance:function(e){l({instances:o.filter(function(n){return n.id!==e})}),f(function(n){return Object.keys(n).reduce(function(t,r){return r.includes(e)?t:m(m({},t),{},(0,i.A)({},r,n[r]))},{})}),v(function(n){return Object.keys(n).reduce(function(t,r){return r.includes(e)?t:m(m({},t),{},(0,i.A)({},r,n[r]))},{})}),null==b||b({id:e,_destroy:!0})},contactable:g}}function S(){var e="CustomBooking"===h().type;return{formLabelClassName:!e&&"ttni fs14 mb1 boost-secondary-70",formInputClassName:e?"h2":"w-100 pa3 fs16 b ba br3 relative b--boost-secondary-30 boost-secondary nice-inshadow nicefocus",formSelectInputClassName:!e&&"select-share",disabledDefaultInputStyle:!e}}function _(){return h().previewBody.rows.flatMap(function(e){return e.components}).reduce(function(e,n){var t;return(0,c.Gh)(n)&&null!==(t=n.options)&&void 0!==t&&t.relationshipCustomFieldId?[].concat((0,r.A)(e),[n.options.relationshipCustomFieldId]):e},[])}},45498:function(e,n,t){var r=t(64467),i=t(5544);function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach(function(n){(0,r.A)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}n.A=function(e,n){return Array.isArray(e)?function(e,n){return e.map(function(e){var t,r=n[e.id]||{},i=r.selectedTimezone,o=r.field;return!e.value||!i||null!=o&&null!==(t=o.settings)&&void 0!==t&&t.disabled?e:{id:e.id,value:u(u({},e.value),{},{timeZone:i})}})}(e,n):function(e,n){return Object.fromEntries(Object.entries(e).map(function(e){var t,r=(0,i.A)(e,2),o=r[0],l=r[1],a=n[o]||{},c=a.selectedTimezone,s=a.field;return[o,!l||!c||null!=s&&null!==(t=s.settings)&&void 0!==t&&t.disabled?l:u(u({},l),{},{timeZone:c})]}))}(e,n)}},50794:function(e,n,t){t.d(n,{_:function(){return y},r:function(){return p}});var r=t(82284),i=t(64467),o=t(5544),u=t(56386),l=t(57704),a=t(81791),c=t(98212);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach(function(n){(0,i.A)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var f=function(e){return e.advanced_values?e.advanced_values.reduce(function(e,n){var t=n.id.split("."),r=(0,o.A)(t,2)[1];return d(d({},e),{},(0,i.A)({},r,n.value))},{}):{}},v=function(e){return null==e||""===e},p=function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if((0,u.Wn)(e))return function(e){var n=null!=e?e:{settings:{},options:{}},t=n.settings,r=n.options,i=n.value,o=(null==t?void 0:t.boolean_display_type)||"general_field"===(null==t?void 0:t.type)&&(null==r?void 0:r.boolean_display_type),u=null==r?void 0:r.defaultValue;return v(i)?"checkbox"===o?"boolean"==typeof u&&u:["picklist","switch"].includes(o)&&v(u)?null:Boolean(u):i}(e);if(e.value||null!==(n=e.options)&&void 0!==n&&n.defaultValue){var o;if(!i)return;var l,s=null===(o=e.options)||void 0===o?void 0:o.defaultValue,p=e.value||s;return p&&Array.isArray(p)&&0===p.length&&(p=s),p?("time"===e.settings.field_type&&(p=(0,c.QC)(p,void 0,!1)),"booking_request"===e.settings.type&&(p=d(d({},p),{},{locationId:p.locationId||(null===(l=p.location)||void 0===l?void 0:l.id)})),"object"!==(0,r.A)(p)||Array.isArray(p)?p:d({},p)):null}return(0,u.Gh)(e)?function(e,n){var t,r=f(e);if(null!==(t=e.options)&&void 0!==t&&t.relationshipCustomFieldId){var i=e.options.relationshipCustomFieldId,o=n.find(function(e){return e.id===parseInt(i,10)});return o?d(d({},(0,a.gY)(o,["id"])),r):r}return r}(e,t):(0,u.Vs)(e)?function(e){var n,t,r=f(e);return d(d(d({},(0,a.gY)(e.options,["required","conditionalLogic","conditions"])),r),{},{duration:null===(n=e.options)||void 0===n?void 0:n.duration,showAppointment:null===(t=e.options)||void 0===t?void 0:t.required})}(e):(0,u.Bn)(e)?e.value||!0:void 0},y=function(e){var n=e.rows,t=void 0===n?[]:n,o=e.relationships,a=void 0===o?[]:o;return t.flatMap(function(e){return e.components}).reduce(function(e,n){return(0,u.eT)(n)?d(d({},e),function(e){var n,t;return e.instances||null!==(n=e.body)&&void 0!==n&&n.rows?e.instances?e.instances.reduce(function(n,t){var o=(0,l.Mw)(e.settings.id,t.key),u=t.values.reduce(function(e,n){var t=n.value,u="object"!==(0,r.A)(n.value)||Array.isArray(n.value)?n.value:(null==t?void 0:t.id)||(null==t?void 0:t.value);return d(d({},e),{},(0,i.A)({},"".concat(o,".").concat(n.id),u))},{});return d(d({},n),u)},{}):((null===(t=e.body)||void 0===t?void 0:t.rows)||[]).flatMap(function(e){return e.components}).reduce(function(n,t){return d(d({},n),{},(0,i.A)({},"".concat(e.id,".").concat(t.id),t.value))},{}):{}}(n)):d(d({},e),{},(0,i.A)({},n.id,p(n,a)))},{})}},59193:function(e,n,t){t.d(n,{A:function(){return k},l:function(){return D}});var r=t(64467),i=t(82284),o=t(5544),u=t(96540),l=t(84743),a=t.n(l),c=t(21241),s=t(98212),d=t(56386),f=t(45498),v=t(18207),p=t(8251),y=t(14950);function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach(function(n){(0,r.A)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var m=function(e){return Object.entries(e).filter(function(n){var t,r=(0,o.A)(n,2)[1];if((0,d.p6)(r.field))return!1;var i=r.blockId?r.isShown&&(null===(t=e[r.blockId])||void 0===t?void 0:t.isShown):r.isShown;return!r.isValid&&i}).map(function(n){var t=(0,o.A)(n,2),r=t[0],i=t[1];if(i.blockId){var u=atob(r.split(".")[0]).split("|")[1],l=e[i.blockId],a=l.field,c=l.instances,s=void 0===c?[]:c;return'"'.concat((0,y.lu)(a)).concat(s.length>1?"(".concat(u,")"):"",'"')}return'"'.concat((0,y.lu)(i.field),'"')})},h=function(e){return e},O=function(e){var n;return"number"==typeof e||void 0!==(null==e?void 0:e.cents)?w(e):"boolean"==typeof e?e:"object"===(0,i.A)(e)&&e._isAMomentObject?null==e?void 0:e.toString():"object"===(0,i.A)(e)&&null!=e&&e.value?e.value:"object"===(0,i.A)(e)&&null!=e&&e.length?e:null==e||null===(n=e.trim)||void 0===n?void 0:n.call(e)},w=function(e){return void 0!==(null==e?void 0:e.cents)?e.cents:e},A=function(e){return null==e?void 0:e.toString()},j=function(e){if(void 0!==e){var n=0===Object.keys(e).length,t=Object.values(e).every(function(e){return void 0===e||""===e});if(!n&&!t)return Object.entries(e).filter(function(e){var n,t=(0,o.A)(e,2)[1];return""!==(null==t||null===(n=t.trim)||void 0===n?void 0:n.call(t))}).reduce(function(e,n){var t=(0,o.A)(n,2),i=t[0],u=t[1];return g(g({},e),{},(0,r.A)({},i,u))},{})}},S={string:O,text:O,company_name:O,note:O,time:function(e){if(void 0!==e){var n=new Date,t=e.split(":"),r=(0,o.A)(t,2),i=r[0],u=r[1];return n.setHours(Number(i),Number(u)),a().tz(n,a().tz.guess()).format("h:ma z")}},boolean:h,date:A,datetime:A,lookup:h,list:h,multi_picklist:h,currency:w,company_email:O,company_phone:O,company_address:j,signature_field:h,contact:j,appointment:function(e){if(e.showAppointment){var n=j(e),t=n.startDate,r=n.endDate,i=n.timeZone,o="string"==typeof i?i:null==i?void 0:i.value;return t&&o&&(n.startDate=t.tz(o,!0)),r&&o&&(n.endDate=r.tz(o,!0)),o&&(n.timeZone=o),n}},booking_request:h,file_upload:h,lmpay_gateway:h,tags:h},_=function(e,n){return Object.entries(e).filter(function(e){var t,r,i,u=(0,o.A)(e,2),l=u[0],a=u[1];return(null===(t=n[l])||void 0===t?void 0:t.isShown)&&((null===(r=n[l])||void 0===r?void 0:r.isDirty)||null!=a&&""!==(null==a||null===(i=a.trim)||void 0===i?void 0:i.call(a)))}).map(function(e){var t=(0,o.A)(e,2),r=t[0],i=t[1],u=n[r].field,l=(0,y.Re)(u);return[r,(S[l]||O)(n[r].overrideValue||i)]}).filter(function(e){return void 0!==(0,o.A)(e,2)[1]}).reduce(function(e,n){var t=(0,o.A)(n,2),i=t[0],u=t[1],l=i.split("."),a=(0,o.A)(l,2),c=a[0],s=a[1];return g(g({},e),{},s?(0,r.A)({},c,g(g({},e[c]||{}),{},(0,r.A)({},s,u))):(0,r.A)({},c,u))},{})},P=function(e){var n=Object.entries(e).find(function(n){var t,r=(0,o.A)(n,2)[1],i=r.blockId?r.isShown&&(null===(t=e[r.blockId])||void 0===t?void 0:t.isShown):r.isShown;return(0,d.p6)(r.field)&&i})||[],t=(0,o.A)(n,2)[1];return!!t&&t.error},D=function(e,n){var t=new FormData(null!=e?e:void 0);return e?Object.keys(n).reduce(function(e,i){return void 0===n[i]&&t.get(i)?g(g({},e),{},(0,r.A)({},i,t.get(i))):g(g({},e),{},(0,r.A)({},i,n[i]))},g({},t)):n};function k(){var e=(0,u.useContext)(v.$c),n=e.values,t=e.fieldStateMap,r=e.setFieldStateMap,i=e.onSubmit;return function(e){var o=null==e?void 0:e.current,u=D(o,n),l=(0,f.A)(u,t),a=(0,p.l)(l,t,!0);r(a);var d=m(a);if(d.length>0){var v=(0,s.td)(d,"field","fields");c.oR.error("Please check the ".concat((0,s.Jq)(d)," ").concat(v,"."),{autoClose:15e3})}else{var y=P(a);if(y)c.oR.error(y,{autoClose:15e3});else{var b=_(l,a);i(b)}}}}}}]);
//# sourceMappingURL=/e0bf813f6e59611ec628726eb5f2a5bfd50d17e5/4972.2de25ec1463a3b45e3ed.js.map