!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="5509ce28-24bf-4dd5-a181-c8238b56dc5d",e._sentryDebugIdIdentifier="sentry-dbid-5509ce28-24bf-4dd5-a181-c8238b56dc5d")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"e0bf813f6e59611ec628726eb5f2a5bfd50d17e5"},(self.webpackChunkboost_client=self.webpackChunkboost_client||[]).push([[9360],{6451:function(e,n,t){"use strict";var i=t(96540),a=t(98212);n.A=function(e){var n=e.message,t=e.style,r=e.fontStyleClass,l=void 0===r?"":r,o=e.createdEvents,s=void 0===o?[]:o;return i.createElement("div",{className:"tc lm-success-message-wrapper"},i.createElement("div",{className:"pa2 bg-boost-success boost-white lm-success-message ".concat(l),style:t},n),s.map(function(e){var n,t,r;return i.createElement("div",{key:e.id,className:"fs16 w-100 mb2 pv3"},i.createElement("h4",{className:"mt0 mb4 fs18 tc ttu"},null===(n=e.appointmentType)||void 0===n?void 0:n.name),i.createElement("h6",{className:"mv1 tc ttu boost-secondary-50 fs12"},"Hosts"),i.createElement("div",{className:"flex flex-row justify-center mb1"},null===(t=e.hosts)||void 0===t?void 0:t.map(function(e,n){return i.createElement("p",{className:"mv1 b",key:"user-".concat(e.id)},n>0&&","," ",e.firstName," ",e.lastName)})),i.createElement("div",{className:"mb2"},i.createElement("h6",{className:"mb1 mt4 tc ttu boost-secondary-50 fs12"},"Where"),i.createElement("p",{className:"mv1 b"},null===(r=e.firm)||void 0===r?void 0:r.name),e.location&&i.createElement("p",{className:"mv1 b"},e.location.fullName),e.zoomUsMeetingUrl&&i.createElement("p",{className:"mv1"},"Zoom Video Conference")),i.createElement("div",null,i.createElement("h6",{className:"mb1 mt4 tc ttu boost-secondary-50 fs12"},"When"),i.createElement("p",{className:"mv1 b"},(0,a.Ci)(e.startDate))),i.createElement("div",{className:"mt3"},i.createElement("div",{className:"boost-secondary-70 i"},"Check your calendar/email for an invite to your appointment",e.zoomUsMeetingUrl?" and a link to your Zoom meeting":"")))}))}},12482:function(e,n,t){"use strict";t.d(n,{f4:function(){return r},u2:function(){return a}});var i=t(41768),a=function(e){if(e){var n=e;return{start:n.startDate,end:n.endDate}}},r=function(e){var n=e.hostsAvailability,t=e.slotParticipants,a=e.hostsValue;return n===i.x.ALL?a:t}},41768:function(e,n,t){"use strict";t.d(n,{x:function(){return i}});var i=function(e){return e.ALL="all",e.ANY="any",e}({})},52390:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createProspectByCustomForm"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"payload"}},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"CustomFormShareInputType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"trackingSource"}},type:{kind:"NamedType",name:{kind:"Name",value:"TrackingSourceInputType"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"shareUuid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"clientSubmissionId"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fieldFiles"}},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"CustomFormInputFileType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"signaturePacketShareUuid"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createProspectByCustomForm"},arguments:[{kind:"Argument",name:{kind:"Name",value:"payload"},value:{kind:"Variable",name:{kind:"Name",value:"payload"}}},{kind:"Argument",name:{kind:"Name",value:"share_uuid"},value:{kind:"Variable",name:{kind:"Name",value:"shareUuid"}}},{kind:"Argument",name:{kind:"Name",value:"trackingSource"},value:{kind:"Variable",name:{kind:"Name",value:"trackingSource"}}},{kind:"Argument",name:{kind:"Name",value:"client_submission_id"},value:{kind:"Variable",name:{kind:"Name",value:"clientSubmissionId"}}},{kind:"Argument",name:{kind:"Name",value:"fieldFiles"},value:{kind:"Variable",name:{kind:"Name",value:"fieldFiles"}}},{kind:"Argument",name:{kind:"Name",value:"signaturePacketShareUuid"},value:{kind:"Variable",name:{kind:"Name",value:"signaturePacketShareUuid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"signaturePacketShareUuid"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"events"},name:{kind:"Name",value:"appointments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Appointment"},directives:[]},{kind:"Field",name:{kind:"Name",value:"firm"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:669}};i.loc.source={body:'#import "../fragments/appointment.gql"\n\nmutation createProspectByCustomForm(\n  $payload: [CustomFormShareInputType]\n  $trackingSource: TrackingSourceInputType\n  $shareUuid: ID!\n  $clientSubmissionId: String\n  $fieldFiles: [CustomFormInputFileType]\n  $signaturePacketShareUuid: ID\n) {\n  createProspectByCustomForm(\n    payload: $payload\n    share_uuid: $shareUuid\n    trackingSource: $trackingSource\n    client_submission_id: $clientSubmissionId\n    fieldFiles: $fieldFiles\n    signaturePacketShareUuid: $signaturePacketShareUuid\n  ) {\n    signaturePacketShareUuid\n    events: appointments {\n      ...Appointment\n      firm {\n        id\n        name\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){r(e,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){r(e,n)}),e.definitions&&e.definitions.forEach(function(e){r(e,n)})}i.definitions=i.definitions.concat(t(72658).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}));var l={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach(function(e){if(e.name){var n=new Set;r(e,n),l[e.name.value]=n}}),e.exports=i,e.exports.createProspectByCustomForm=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=l[n]||new Set,a=new Set,r=new Set;for(i.forEach(function(e){r.add(e)});r.size>0;){var s=r;r=new Set,s.forEach(function(e){a.has(e)||(a.add(e),(l[e]||new Set).forEach(function(e){r.add(e)}))})}return a.forEach(function(n){var i=o(e,n);i&&t.definitions.push(i)}),t}(i,"createProspectByCustomForm")},58244:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"customFormPartialSubmit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"payload"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CustomFormShareInputType"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"shareUuid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"customFormPartialSubmit"},arguments:[{kind:"Argument",name:{kind:"Name",value:"payload"},value:{kind:"Variable",name:{kind:"Name",value:"payload"}}},{kind:"Argument",name:{kind:"Name",value:"shareUuid"},value:{kind:"Variable",name:{kind:"Name",value:"shareUuid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cacheStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAccessGranted"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:203}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){t(e,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){t(e,n)}),e.definitions&&e.definitions.forEach(function(e){t(e,n)})}n.loc.source={body:"mutation customFormPartialSubmit($payload: [CustomFormShareInputType!], $shareUuid: ID!) {\n  customFormPartialSubmit(payload: $payload, shareUuid: $shareUuid) {\n    cacheStatus\n    isAccessGranted\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}}),e.exports=n,e.exports.customFormPartialSubmit=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,l=new Set,o=new Set;for(r.forEach(function(e){o.add(e)});o.size>0;){var s=o;o=new Set,s.forEach(function(e){l.has(e)||(l.add(e),(i[e]||new Set).forEach(function(e){o.add(e)}))})}return l.forEach(function(n){var i=a(e,n);i&&t.definitions.push(i)}),t}(n,"customFormPartialSubmit")},69185:function(e,n,t){"use strict";t.d(n,{A:function(){return $}});var i=t(96540),a=t(68154),r=t(18207),l=t(79948),o=t(64467),s=t(5544),d=t(61412),c=t(42981),m=t(44972),u=t(12482),f=function(e){var n,t=e.eventType,a=e.bookingFieldValue,r=e.timezone,l=e.location,o=e.hosts,s=e.isOnConfirmationPage,f=e.isOnBookingFieldPage,v=e.hasMultipleEventTypes,p=e.onEventTypeEditClick,b=e.onIntervalEditClick,k=(0,m.GM)(),g=k.name,y=k.displayName,h=k.firm,N=(0,m.lN)().isEmbedded,E=r||h.timezone,S=(null==a?void 0:a.id)&&!(null!=a&&a.isRescheduling),w=(0,u.u2)(a);return i.createElement(i.Fragment,null,!N&&i.createElement(i.Fragment,null,h.logo&&i.createElement(d.A,{logo:h.logo,theme:"mark",width:"128px",height:"128px",className:"bg-boost-white br-pill overflow-hidden lm-logo"}),i.createElement("h1",{className:"tc ph3"},y||g)),t&&!s&&!S&&i.createElement("div",{className:"w-100 mw7 mb4 ph2 flex flex-column flex-gap-2 ".concat(!N&&"mt4-l mt3 lm-booking-form-header")},i.createElement("div",{className:"flex flex-row-l flex-column justify-between pv1 infoHeaderSeparators-l"},i.createElement("div",{className:"w-50-l w-100 tc tl-l lm-booking-form-appointment-cell"},i.createElement("div",{className:"boost-secondary-50 b fs12 ttu lh-title nowrap"},"Appointment"),i.createElement("div",{className:"fs15 f4-l b mt2"},i.createElement("span",null,t.name),v&&i.createElement("span",{className:"pl2 pointer boost-secondary-50 hover-boost-secondary-70",role:"button",onClick:p,tabIndex:0},i.createElement("i",{className:"icon-edit"})))),i.createElement("div",{className:"flex flex-column flex-row-l pl3 mt2 mt0-l items-center items-start-l w-50-l w-100"},i.createElement("div",{className:"w-100 tc tl-l mt3 mt0-l lm-booking-form-hosts-cell"},i.createElement("div",{className:"boost-secondary-50 b fs12 ttu lh-title nowrap"},"Hosts"),i.createElement("span",{className:"flex flex-column mt2"},o.map(function(e){return i.createElement("div",{className:"fs15 b mb1",key:"user-".concat(e.id)},e.firstName," ",e.lastName)}))),i.createElement("div",{className:"w-100 tc tl-l mt3 mt0-l pl3-l"},i.createElement("div",{className:"boost-secondary-50 b fs12 ttu lh-title nowrap lm-booking-form-duration-cell"},"Duration"),i.createElement("div",{className:"fs15 b mt2 mb1"},t.durationStringify)))),i.createElement("div",{className:"flex flex-row-l flex-column justify-between pv1 infoHeaderSeparators-l"},i.createElement("div",{className:"w-50-l w-100 tc tl-l pb3 lm-booking-form-time-cell"},i.createElement("div",{className:"boost-secondary-50 b fs12 ttu lh-title nowrap"},"Time"),i.createElement("div",{className:"fs15 b mt2 flex flex-column"},w?i.createElement(i.Fragment,null,i.createElement("span",null,(0,c.$T)(w.start,E)),i.createElement("span",{className:"pt1"},(0,c.W2)(w,E),!f&&i.createElement("span",{className:"pl1 pointer boost-secondary-50 hover-boost-secondary-70",role:"button",onClick:b,tabIndex:0},i.createElement("i",{className:"icon-edit"})))):i.createElement("span",null,"TBD"))),!(null===(n=t.locations)||void 0===n||!n.length)&&i.createElement("div",{className:"w-50-l w-100 tc tl-l pl3"},i.createElement("div",{className:"boost-secondary-50 b fs12 ttu lh-title nowrap"},"Location"),i.createElement("div",{className:"fs15 b mt2"},l?i.createElement("span",null,l.fullName):i.createElement("span",null,"TBD"))))))},v=t(24341),p=t(21381),b=t(50680),k=t(19193),g=t(75876),y=t(98212),h=function(e){var n,t=e.eventType,a=e.bookingFieldValue,r=e.timezone,l=e.location,o=e.hosts,s=e.submitSuccess,d=e.submittedEvent,f=(0,m.GM)().firm,v=r||f.timezone,p=(0,u.u2)(a);return(0,i.useEffect)(function(){var e;null===(e=window.parentIFrame)||void 0===e||e.scrollToOffset(0,0)},[]),i.createElement("div",{className:"flex flex-column justify-center items-center tc pt3-l pt1 w-100 lm-booking-confirmation-page"},i.createElement("div",{className:"flex flex-column items-center justify-center w-100 mw7 pa3"},s&&d?i.createElement(i.Fragment,null,i.createElement("div",{className:"flex items-center justify-center bg-white br-pill ba b--boost-secondary-10 mb4"},i.createElement("i",{className:"icon-checkmark white f2 pa3 ma2 bg-boost-success br-pill"})),i.createElement("span",{className:"lh-copy f3-l f4 w-100 mb3"},"Thank you ",i.createElement("strong",null,null===(n=d.eventable)||void 0===n?void 0:n.name)," for booking your ",i.createElement("br",null)," ",i.createElement("strong",null,(0,y.Ns)(null==t?void 0:t.name)))):i.createElement("span",{className:"lh-copy f3-l f4 w-100 pb3"},"You're about to ",a.isRescheduling?"reschedule":"book"," your ",i.createElement("strong",null,(0,y.Ns)(null==t?void 0:t.name)),"."),s&&d&&i.createElement(i.Fragment,null,d.reminderDelayLength&&d.reminderType&&i.createElement("div",{className:"mv3"},"You will be notified ",d.reminderDelayLength,d.reminderType," before the appointment."),i.createElement("div",{className:"mv3"},i.createElement("div",{className:"boost-secondary-70 i"},"Check your calendar/email for an invite to your appointment",d.zoomUsMeetingUrl?" and a link to your Zoom meeting":""))),i.createElement("div",{className:"pv2"},i.createElement("h6",{className:"mv1 tc ttu boost-secondary-50 fs12"},"Hosts"),i.createElement("div",{className:"flex flex-row justify-center mb1"},o.map(function(e,n){return i.createElement("p",{className:"mv1 b",key:"user-".concat(e.id)},n>0&&","," ",e.firstName," ",e.lastName)}))),l&&i.createElement("div",{className:"pv2"},i.createElement("h6",{className:"mv1 tc ttu boost-secondary-50 fs12"},"Where"),i.createElement("p",{className:"b ma0"},f.name),i.createElement("p",{className:"b ma0 mb1"},l.fullName)),p&&i.createElement("div",{className:"pv2"},i.createElement("h6",{className:"mv1 tc ttu boost-secondary-50 fs12"},"When"),i.createElement("div",{className:"flex flex-row justify-center mb1"},i.createElement("p",{className:"mv1 b"},i.createElement("span",null,(0,c.$T)(p.start,v)),i.createElement("span",{className:"ph2 boost-secondary-50"},"•"),i.createElement("span",{className:"pt2 pt0-l"},(0,c.W2)(p,v)))))))},N=t(10467),E=t(60436),S=t(54756),w=t.n(S),F=t(21241),x=t(56386),I=t(8251),P=t(59193),T=t(44948),A=t(12461);function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function D(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(Object(t),!0).forEach(function(n){(0,o.A)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var C=function(e,n,t){return Object.keys(n).reduce(function(i,a){if(!e.fieldIds.some(function(e){return e===a}))return D(D({},i),{},(0,o.A)({},a,n[a]));var r=(0,I.j)({field:n[a].field,value:t[a],fieldState:n[a]});return D(D({},i),{},(0,o.A)({},a,D(D({},n[a]),{},{isDirty:!0,isValid:!r,error:r})))},{})};function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function U(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(Object(t),!0).forEach(function(n){(0,o.A)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var V={tiny:{fontSize:".5em"},smaller:{fontSize:".625em"},small:{fontSize:".75em"},default:{fontSize:".875em"},large:{fontWeight:"bold",fontSize:"1em"},hyper:{fontWeight:"bold",fontSize:"1.25em"}},B=function(e){var n,t,i,a;return!e||!(null!=e&&null!==(n=e.options)&&void 0!==n&&n.eventTypeIds)||0===(null==e||null===(t=e.options)||void 0===t?void 0:t.eventTypeIds.length)||!(null!=e&&null!==(i=e.options)&&void 0!==i&&i.userIds)||0===(null==e||null===(a=e.options)||void 0===a?void 0:a.userIds.length)},z=function(e){if(e)return{id:e.id,firstName:e.first_name,lastName:e.last_name}},M=function(e){var n,t,a,r=e.isSubmitting,o=e.submitSuccess,d=e.submittedEvent,c=(0,m.GM)(),u=(0,i.useMemo)(function(){return function(e){var n;return null==e||null===(n=e.requiredFieldsBody)||void 0===n?void 0:n.rows.map(function(e){return e.components}).flat().filter(function(e){var n;return null===(n=e.options)||void 0===n?void 0:n.roundRobinPoolAssignedUser}).map(function(e){var n;return null==e||null===(n=e.options)||void 0===n?void 0:n.roundRobinPoolAssignedUser}).map(z)}(c)},[c]),S=(0,m.lN)(),I=S.isEmbedded,O=S.submitDisabled,j=S.fieldStateMap,M=(0,m.eh)(),$=function(){var e,n=(0,m.GM)(),t=(0,m.lN)(),a=t.fieldStateMap,r=t.setFieldStateMap,l=t.values,o=t.setValues,d=(0,T.K)().tokenize,c=null!==(e=null==n?void 0:n.firm)&&void 0!==e?e:{},u=c.isConfidoAuthed,f=c.isStaxAuthed,v=(0,A.T)(),p=v.submitPaymentFields,b=v.confidoPaymentSessionToken,g=v.getPaymentMethod,h=(0,i.useMemo)(function(){return function(e,n){var t=e.previewBody.rows,i=t.findIndex(function(e){return(0,x.aw)(e.components[0])}),a=(0,k.UV)(t,n)||[],r=a.findIndex(function(e){return(0,x.WB)(e)}),l=a.filter(function(e,n){return!(0,x.WB)(e)&&n<i}),o=a.filter(function(e,n){return!(0,x.WB)(e)&&n>i}),s=a[i],d=a[r],c=null==s?void 0:s.components[0],m=null==d?void 0:d.components[0],u=l.length?{rows:l,fieldIds:l.reduce(function(e,t){return[].concat((0,E.A)(e),(0,E.A)((0,k.lz)(t,n)))},[])}:void 0,f=o.length?{rows:o,fieldIds:o.reduce(function(e,t){return[].concat((0,E.A)(e),(0,E.A)((0,k.lz)(t,n)))},[])}:void 0,v=[u,{rows:[s],fieldIds:[c.id]},f,m?{rows:[d],fieldIds:[null==m?void 0:m.id].filter(Boolean)}:void 0].filter(Boolean);return{pages:v,bookingField:c,paymentField:m,bookingFieldPageIndex:v.findIndex(function(e){var n;return(0,x.aw)(null===(n=e.rows[0])||void 0===n?void 0:n.components[0])}),paymentFieldPageIndex:v.findIndex(function(e){return(0,x.WB)(e.rows[0])})}}(n,a)},[n,a]),S=h.pages,I=h.bookingField,O=h.bookingFieldPageIndex,j=h.paymentField,U=h.paymentFieldPageIndex,V=(0,i.useState)(0),B=(0,s.A)(V,2),z=B[0],M=B[1],$=S[z],W=(0,m.Wd)(I.id).value,_=z===O,L=z===U,H=z===S.length,R=!(null==W||!W.id),G=_&&!R,q=z!==S.length&&!G;return{pages:S,currentPage:$,isOnBookingFieldPage:_,isOnConfirmationPage:H,isOnPaymentPage:L,goToNextPage:function(e){return(0,N.A)(w().mark(function t(){var i,s,c,m,v,k,h,E,S,x,I,T;return w().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null==e?void 0:e.current,c=(0,P.l)(s,l),m=C($,a,c),!$.fieldIds.includes(null==j?void 0:j.id)||null===(i=m[null==j?void 0:j.id])||void 0===i||!i.isValid){t.next=7;break}if("string"==typeof(v=l[null==j?void 0:j.id])){t.next=7;break}if(k=function(){var e=(0,N.A)(w().mark(function e(){var n,t,i,a,r,l,o,s,d,c,u;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,p();case 1:if(!(t=e.sent)){e.next=2;break}return a=(0,y.Ns)(null!==(i=null==t?void 0:t.fieldId)&&void 0!==i?i:""),r=(null==t?void 0:t.message)||(null==t?void 0:t.result),l=a?"".concat(a," - ").concat(r):r,F.oR.error(l),e.abrupt("return",!1);case 2:return o=g(),s=v.amount,d=v.invoice,c=v.billingEmail,u={token:b,method:o,provider:"confido"},m[null==j?void 0:j.id].overrideValue=D({paymentMethod:u},null!=j&&null!==(n=j.options)&&void 0!==n&&n.clientWillFillAmount?{amount:s,invoiceNumber:null==d?void 0:d.number,billingEmail:c}:{}),e.abrupt("return",!0);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),u||f){t.next=1;break}return Sentry.captureMessage("No payment provider found",{extra:{shareId:n.id,firmId:null===(h=n.firm)||void 0===h?void 0:h.id,isConfidoAuthed:u,isStaxAuthed:f},level:"error"}),F.oR.error("No payment provider found"),t.abrupt("return");case 1:if(n.lmPayViaStax||!u){t.next=4;break}return t.next=2,k();case 2:if(t.sent){t.next=3;break}return t.abrupt("return");case 3:t.next=7;break;case 4:if(!f){t.next=7;break}return t.next=5,d(v);case 5:if(!(S=t.sent).error){t.next=6;break}return F.oR.error(S.error),t.abrupt("return");case 6:x=v.amount,I=v.invoice,T=v.billingEmail,m[null==j?void 0:j.id].overrideValue=D({paymentMethod:S.paymentMethod,customerId:S.customerId},null!=j&&null!==(E=j.options)&&void 0!==E&&E.clientWillFillAmount?{amount:x,invoiceNumber:null==I?void 0:I.number,billingEmail:T}:{});case 7:r(m),_||o(c),($.fieldIds.every(function(e){var n=m[e],t=(null==n?void 0:n.isDirty)&&(null==n?void 0:n.isValid)||!(null!=n&&n.isShown);if(null!=n&&n.blockId){var i=m[null==n?void 0:n.blockId];return t||!(null!=i&&i.isShown)}return t})||_)&&M(function(e){return e+1});case 8:case"end":return t.stop()}},t)}))},goToPreviousPage:function(){return M(function(e){return e-1})},goToBookingFieldPage:function(){return M(O)},bookingField:I,hasNextPage:q,hasPreviousPage:z>0}}(),W=$.currentPage,_=$.goToNextPage,L=$.goToPreviousPage,H=$.goToBookingFieldPage,R=$.isOnConfirmationPage,G=$.isOnBookingFieldPage,q=$.bookingField,Z=$.hasNextPage,J=$.hasPreviousPage,Y=(0,m.Wd)(q.id),K=Y.value,Q=Y.fieldState,X=Q.selectedEventTypeId,ee=Q.selectedTimezone,ne=Q.selectedLocationId,te=Y.setFieldState,ie=(0,l.qA)(),ae=ie.selectedHosts,re=ie.setSelectedHosts,le=ie.setAvailableHosts,oe=(0,i.useRef)(null),se=(0,i.useState)(!1),de=(0,s.A)(se,2),ce=de[0],me=de[1],ue=(0,g.FO)({onCompleted:function(e){var n=e.appointmentTypeWithUsers;null!=n&&n.hosts&&(le(n.hosts),re(n.hosts))}}),fe=(0,s.A)(ue,2),ve=fe[0],pe=fe[1],be=pe.data,ke=pe.loading;(0,i.useEffect)(function(){if(!(B(q)||q.options.eventTypeIds.length>1)){me(!0);var e=q.options;ve({variables:{id:btoa(e.eventTypeIds[0]),userIds:btoa(JSON.stringify(e.userIds)),locationIds:e.locationIds&&btoa(JSON.stringify(e.locationIds||[]))}})}},[q,ve]),(0,i.useEffect)(function(){if(!B(q)&&1!==q.options.eventTypeIds.length&&X){var e=q.options;ve({variables:{id:btoa(X),userIds:btoa(JSON.stringify(e.userIds)),locationIds:e.locationIds&&btoa(JSON.stringify(e.locationIds||[]))}})}},[X,ve,q]);var ge=(0,i.useMemo)(function(){return(0,k.UV)(null==W?void 0:W.rows,j)},[W]);if(B(q))return i.createElement("div",{className:"well flex flex-column justify-between items-center pb1-ns ph2 ph6-ns pt3-ns relative min-h-100 invalid-booking"},i.createElement("div",{className:"flex flex-column items-center w-100"},i.createElement("h1",null,"Invalid booking link")));if(ce&&(!be||ke))return i.createElement(b.A,null);var ye=null==be||null===(n=be.appointmentTypeWithUsers)||void 0===n||null===(n=n.locations)||void 0===n?void 0:n.find(function(e){return(null==e?void 0:e.id)===ne}),he=c.embeddedProperties||{buttonText:"Confirm"},Ne=I?"":"bg-boost-secondary-fade-05 flex flex-column justify-between items-center ph2 pv2 pv5-ns relative min-h-100",Ee=I?"lm-embed-content":"",Se=I&&he?{backgroundColor:he.backgroundColor}:{},we=I?{background:he.inputBackgroundColor,borderColor:he.inputBorderColor,color:he.inputColor}:{},Fe=I?U({color:he.labelColor},he.labelFontSize?V[he.labelFontSize]:V.default):{},xe=I?{color:he.buttonColor,background:he.buttonBackgroundColor,borderColor:he.buttonBorderColor}:{},Ie=null!==(t=u||[])&&void 0!==t&&t.length?u:ae;return i.createElement("div",{id:Ee,style:Se,className:Ne},i.createElement("div",{className:"flex flex-column items-center w-100 lm-booking-form-container"},i.createElement(f,{eventType:be&&U(U({},be.appointmentTypeWithUsers),{},{locations:null===(a=be.appointmentTypeWithUsers)||void 0===a?void 0:a.locations}),bookingFieldValue:K,timezone:ee,location:ye,hosts:Ie,isOnConfirmationPage:R,isOnBookingFieldPage:G,hasMultipleEventTypes:q.options.eventTypeIds.length>1,onEventTypeEditClick:function(){te({selectedEventTypeId:void 0}),H()},onIntervalEditClick:H}),i.createElement("form",{ref:oe,className:"w-100 lm-booking-form"},i.createElement("div",{className:"bg-white w-100 mw7 br4 flex flex-column items-center center ".concat(!I&&"pa3")},i.createElement("div",{className:"flex flex-column items-center justify-center w-100"},R?i.createElement(h,{eventType:null==be?void 0:be.appointmentTypeWithUsers,bookingFieldValue:K,timezone:ee,location:ye,hosts:Ie,submitSuccess:o,submittedEvent:d}):ge.map(function(e,n){return i.createElement(v.A,{key:"".concat(e.id,"_").concat(n),className:"flex w-100 flex-nowrap-l flex-wrap",row:e,style:we,labelStyles:Fe,fieldStateMap:j,onIntervalConfirm:_(oe),setBookingFieldState:te})}),!o&&i.createElement("div",{className:"flex w-100 justify-between mt3 ph2 pb3"},J?i.createElement(p.A,{disabled:r,action:L,stopPropagation:!0,theme:"white",icon:"chevron-left",title:"Back"}):i.createElement("span",null),Z?i.createElement(p.A,{action:_(oe),styles:xe,theme:"success",title:"Next"}):i.createElement("span",null),R&&i.createElement(p.A,{loading:r,disabled:r||O,styles:xe,theme:"success",action:function(){return M(oe)},title:he.buttonText})))))))},$=function(e){var n,t=e.sharedCustomForm,o=e.isEmbedded,s=e.onSubmit,d=e.onPartialSubmit,c=e.serverErrors,m=e.isSubmitting,u=e.submitSuccess,f=e.submittedEvent,v=null===(n=t.customFormEmbeddedProperty)||void 0===n||null===(n=n.customCss)||void 0===n?void 0:n.trim();return i.createElement(i.Fragment,null,i.createElement(a.A,null,i.createElement("title",null,t.name),i.createElement("meta",{name:"robots",content:"noindex"}),o&&v&&i.createElement("style",{id:"customFormStyles"},v)),o&&v&&i.createElement(a.A,null,i.createElement("style",{id:"customFormStyles"},v)),i.createElement(r.Ay,{isEmbedded:o,sharedCustomForm:t,onSubmit:s,onPartialSubmit:d,serverErrors:c},i.createElement(l.Nm,null,i.createElement(M,{submitSuccess:u,isSubmitting:m,submittedEvent:f}))))}},72658:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Appointment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Appointment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"personId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timeZone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"allDay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"noShow"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sendInvites"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"editable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"appointmentType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"hostIds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mainHostId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"hosts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mainHost"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isZoomUsAuthed"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reminderType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reminderDelayLength"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zoomUsMeetingUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additionalAttendees"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canceledAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eventable"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"uuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:578}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){t(e,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){t(e,n)}),e.definitions&&e.definitions.forEach(function(e){t(e,n)})}n.loc.source={body:"fragment Appointment on Appointment {\n  id\n  name\n  personId\n  description\n  startDate\n  endDate\n  timeZone\n  allDay\n  noShow\n  sendInvites\n  editable\n  appointmentType {\n    id\n    name\n  }\n  hostIds\n  mainHostId\n  location {\n    id\n    name\n    fullName\n  }\n  hosts {\n    id\n    firstName\n    lastName\n    email\n  }\n  mainHost {\n    id\n    firstName\n    lastName\n    email\n    isZoomUsAuthed\n  }\n  reminderType\n  reminderDelayLength\n  zoomUsMeetingUrl\n  additionalAttendees\n  createdAt\n  updatedAt\n  canceledAt\n\n  eventable {\n    id\n    type\n    uuid\n    name\n    email\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}}),e.exports=n,e.exports.Appointment=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,l=new Set,o=new Set;for(r.forEach(function(e){o.add(e)});o.size>0;){var s=o;o=new Set,s.forEach(function(e){l.has(e)||(l.add(e),(i[e]||new Set).forEach(function(e){o.add(e)}))})}return l.forEach(function(n){var i=a(e,n);i&&t.definitions.push(i)}),t}(n,"Appointment")},75876:function(e,n,t){"use strict";t.d(n,{FO:function(){return v},XC:function(){return f}});var i,a=t(64467),r=t(57528),l=t(2135),o=t(29450),s=t(95196);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach(function(n){(0,a.A)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var m={},u=(0,l.J1)(i||(i=(0,r.A)(["\n    query uniqueCalendarForBookingForm($id: String!, $userIds: String!, $locationIds: String) {\n  appointmentTypeWithUsers(id: $id) {\n    id\n    name\n    durationStringify\n    hosts(userIds: $userIds) {\n      id\n      firstName\n      lastName\n      name\n      isZoomUsAuthed\n    }\n    locations(locationIds: $locationIds) {\n      id\n      name\n      fullName\n    }\n  }\n}\n    "])));function f(e){var n=c(c({},m),e);return s.IT(u,n)}function v(e){var n=c(c({},m),e);return o._(u,n)}},77126:function(e,n,t){"use strict";var i=t(5544),a=t(10467),r=t(54756),l=t.n(r),o=t(96540),s=t(54943),d=t(8377),c="reCaptchaScript",m="".concat(d.A.reCaptchaApiUrl,"?trustedtypes=true&render=").concat(d.A.reCaptchaSiteKey),u=function(){var e=(0,a.A)(l().mark(function e(n){var t,i,a,r,o;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.token,i=n.shareId,e.prev=1,e.next=2,s.A.get("/validate_captcha",{token:t,form_id:i});case 2:return a=e.sent,e.next=3,a.json();case 3:return r=e.sent,e.abrupt("return",null==r?void 0:r.is_valid);case 4:return e.prev=4,o=e.catch(1),Sentry.captureMessage("Captcha Failed",{extra:{err:o},level:"error"}),e.abrupt("return",!0);case 5:case"end":return e.stop()}},e,null,[[1,4]])}));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=document.getElementById(c),n=document.getElementsByClassName("grecaptcha-badge");e&&document.body.removeChild(e),n.length&&n[0].parentNode&&document.body.removeChild(n[0].parentNode)};n.A=function(e){var n=e.enable,t=e.shareId,r=(0,o.useState)(!1),s=(0,i.A)(r,2),v=s[0],p=s[1];(0,o.useEffect)(function(){t&&n&&!v&&function(e){var n=document.getElementById(c);if(!n){var t=document.createElement("script");t.src=m,t.id=c,document.body.appendChild(t),t.onload=function(){e&&e()}}n&&e&&e()}(function(){return grecaptcha.ready(function(){p(!0)})})},[t,n,v]);var b=(0,o.useCallback)((0,a.A)(l().mark(function e(){var i,a,r,o=arguments;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=o.length>0&&void 0!==o[0]?o[0]:"submit",grecaptcha&&n&&t){e.next=1;break}return e.abrupt("return",!0);case 1:return e.prev=1,e.next=2,grecaptcha.execute(d.A.reCaptchaSiteKey,{action:i});case 2:return a=e.sent,e.next=3,u({token:a,shareId:t});case 3:return e.abrupt("return",e.sent);case 4:return e.prev=4,r=e.catch(1),Sentry.captureMessage("Captcha Failed",{extra:{err:r},level:"error"}),e.abrupt("return",!0);case 5:case"end":return e.stop()}},e,null,[[1,4]])})),[n,t]);return{validate:b,removeReCaptchaScript:f}}}}]);
//# sourceMappingURL=/e0bf813f6e59611ec628726eb5f2a5bfd50d17e5/9360.4c6219e30bc0eabb9bc2.js.map